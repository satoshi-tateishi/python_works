Requirements definition document

1. システムの目的
Macローカル環境で動作し、1.3万件の施設データから運用候補地を選定、ガードバンド等の専門的制約を自動計算した上で、Excel/Numbersの報告書を作成する。

2. データベース・データ仕様 (SQLite)
テーブル: venues（施設）、equipment（将来用）、frequency_map（将来用）。

データ形式:

13CH〜53CHの各列において、「○」は運用可能、「空白（NULL）」は運用不可。

郵便番号は「000-0000」形式に整形済み。

53CH（ラジオマイク専用帯）は全施設に「○」を付与。

3. アプリケーション機能 (Flask + Tailwind CSS)
① 検索・キープ機能 (Phase 1)
高速検索: 施設名、住所、都道府県から部分一致で検索。

セッション保存: 気になった施設をチェックし、一時的な「候補リスト」に保存。画面を遷移しても保持される。

UI: Tailwind CSS を活用し、検索結果と候補リストを左右（または上下）で分かりやすく配置。

② 運用調整・チャンネル選択機能 (Phase 2)
個別チャンネル設定: キープした施設ごとに、使用するチャンネルを選択。

ガードバンド（GB）自動判定ロジック:

判定: 選択したCHの隣接CHが「空白（運用不可）」の場合、その境界側に1MHzのガードバンドを自動設定。

例外: 13CHの下限側、および53CHの上限側にはガードバンドを設けない。

視覚化: 画面上で「GBあり」の状態をユーザーに明示。

③ ファイル出力機能 (Phase 3)
テンプレート連携: アプリ内保持の master.xlsx / master.numbers を複製。

精密転記: openpyxl および numbers-parser を使用。

出力内容: 施設名、住所、選択CH、およびガードバンドの有無・位置に関する注釈を自動転記。

4. 技術スタック・配布形式
言語/FW: Python 3.12.3 / Flask / Tailwind CSS (CDN)。

開発環境: venv環境を作成して、その環境で開発を行う。

データベース: SQLiteを使用する。

パッケージ化: PyInstaller を使用し、Python環境・DB・テンプレートを同梱した .app 形式で配布。

5. 起動方法
プロジェクトルートから以下のワンライナーでアプリケーションを起動できる：
rf_unyo/.venv/bin/python rf_unyo/ch_list/app.py
ブラウザで以下にアクセス
http://127.0.0.1:5001